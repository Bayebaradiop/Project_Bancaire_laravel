{
    "openapi": "3.0.0",
    "info": {
        "title": "API Bancaire - Documentation Compl√®te",
        "description": "Documentation de l'API RESTful de gestion bancaire.\\n\\n\\n**Authentification¬†:**\\n- Les clients web utilisent un cookie HttpOnly s√©curis√© (invisible pour Swagger UI).\\n- Pour tester les endpoints prot√©g√©s dans Swagger UI, utilisez le bouton 'Authorize' et collez le Bearer Token JWT retourn√© par l'endpoint /v1/auth/login.\\n- Le cookie HttpOnly continue de fonctionner pour les vraies applications web.\\n\\n**Limite¬†:** Swagger UI ne peut pas tester les cookies HttpOnly, mais tous les endpoints prot√©g√©s acceptent aussi le header Authorization: Bearer <token>.\\n\\nPour automatiser vos tests, privil√©giez Postman, Insomnia ou cURL si vous souhaitez tester le flux cookie.",
        "contact": {
            "name": "Support API Bancaire",
            "email": "support@banque.sn"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "https://baye-bara-diop-project-bancaire-laravel.onrender.com/api",
            "description": "Serveur de production Render"
        },
        {
            "url": "http://localhost:8000/api",
            "description": "Serveur de d√©veloppement local"
        }
    ],
    "paths": {
        "/v1/auth/login": {
            "post": {
                "tags": [
                    "Authentification"
                ],
                "summary": "Connexion utilisateur",
                "description": "Authentifie un utilisateur (Admin ou Client) et retourne un token JWT dans un cookie HttpOnly s√©curis√©.\n\n**Comptes de test dans la base Render :**\n\n**üë§ Admin :**\n- Email : `admin@banque.sn`\n- Password : `password`\n- Acc√®s : Tous les comptes, toutes les op√©rations\n\n**üë§ Client :**\n- Email : `client@banque.sn`\n- Password : `password`\n- Acc√®s : Uniquement ses propres comptes\n- Ses comptes : `a0358125-5167-4b7c-8057-786038cd1e84`, `a0358113-ee00-4154-884d-9a3bd5d307fc`, etc.\n\n**üìù Instructions apr√®s connexion :**\n1. Copier le `access_token` de la r√©ponse\n2. Cliquer sur **Authorize** (üîí en haut √† droite)\n3. Coller le token dans **bearerAuth (http, Bearer)**\n4. Cliquer sur **Authorize** puis **Close**\n5. Tester les endpoints prot√©g√©s",
                "operationId": "login",
                "requestBody": {
                    "description": "Identifiants de connexion",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "description": "Email de l'utilisateur",
                                        "type": "string",
                                        "format": "email",
                                        "example": "client@banque.sn"
                                    },
                                    "password": {
                                        "description": "Mot de passe de l'utilisateur",
                                        "type": "string",
                                        "format": "password",
                                        "example": "password"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Connexion r√©ussie",
                        "headers": {
                            "Set-Cookie": {
                                "description": "Cookie HttpOnly contenant le JWT token",
                                "schema": {
                                    "type": "string",
                                    "example": "token=eyJ0eXAiOiJKV1QiLCJhbGc..."
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Connexion r√©ussie"
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid",
                                                            "example": "a0344978-1234-5678-9abc-def012345678"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "admin@banque.sn"
                                                        },
                                                        "role": {
                                                            "description": "Role: admin ou client",
                                                            "type": "string",
                                                            "example": "admin"
                                                        },
                                                        "nom": {
                                                            "type": "string",
                                                            "example": "Administrateur"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "expiresIn": {
                                                    "description": "Dur√©e de validit√© du token en secondes",
                                                    "type": "integer",
                                                    "example": 3600
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Identifiants invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Email ou mot de passe incorrect"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Les donn√©es fournies sont invalides"
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "L'email est requis"
                                                    }
                                                },
                                                "password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le mot de passe est requis"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/auth/refresh": {
            "post": {
                "tags": [
                    "Authentification"
                ],
                "summary": "Rafra√Æchir le token JWT",
                "description": "G√©n√®re un nouveau token d'acc√®s en utilisant le refresh token stock√© dans les cookies.",
                "operationId": "refresh",
                "responses": {
                    "200": {
                        "description": "Token rafra√Æchi avec succ√®s",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Token rafra√Æchi avec succ√®s"
                                        },
                                        "data": {
                                            "properties": {
                                                "expiresIn": {
                                                    "type": "integer",
                                                    "example": 3600
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Refresh token manquant ou invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Refresh token manquant"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "cookieAuth": []
                    },
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/auth/logout": {
            "post": {
                "tags": [
                    "Authentification"
                ],
                "summary": "D√©connexion utilisateur",
                "description": "D√©connecte l'utilisateur authentifi√© et invalide le token JWT. Les cookies sont supprim√©s.",
                "operationId": "logout",
                "responses": {
                    "200": {
                        "description": "D√©connexion r√©ussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "D√©connexion r√©ussie"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifi√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifi√©"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "cookieAuth": []
                    },
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/comptes": {
            "get": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Lister les comptes",
                "description": "R√©cup√®re la liste des comptes avec pagination et filtres optionnels.\n\n**Autorisations :**\n- **Admin** : Voit tous les comptes de tous les clients\n- **Client** : Voit uniquement ses propres comptes\n\n**Pour tester en tant que Admin :**\n- Email : `admin@banque.sn` / Password : `password`\n\n**Pour tester en tant que Client :**\n- Email : `client@banque.sn` / Password : `password`\n\n**üìù Instructions :** Apr√®s connexion, copiez le token et cliquez sur **Authorize** en haut √† droite pour le coller dans **bearerAuth (http, Bearer)**.",
                "operationId": "getComptes",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Num√©ro de page pour la pagination",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 1,
                            "example": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Nombre d'√©l√©ments par page (maximum 100)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10,
                            "maximum": 100,
                            "example": 10
                        }
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Filtrer par type de compte",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "epargne",
                                "cheque"
                            ],
                            "example": "epargne"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Liste des comptes r√©cup√©r√©e avec succ√®s",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Comptes r√©cup√©r√©s avec succ√®s"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "example": "a032f0ea-25e7-4b17-a7c4-e0a1aa6aa289"
                                                    },
                                                    "numeroCompte": {
                                                        "type": "string",
                                                        "example": "CP3105472638"
                                                    },
                                                    "titulaire": {
                                                        "type": "string",
                                                        "example": "Mamadou Diop"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "epargne"
                                                    },
                                                    "solde": {
                                                        "type": "number",
                                                        "example": 150000
                                                    },
                                                    "devise": {
                                                        "type": "string",
                                                        "example": "FCFA"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "pagination": {
                                            "properties": {
                                                "total": {
                                                    "type": "integer",
                                                    "example": 45
                                                },
                                                "count": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "total_pages": {
                                                    "type": "integer",
                                                    "example": 5
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifi√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifi√©"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation - Param√®tres invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Les donn√©es fournies sont invalides"
                                        },
                                        "errors": {
                                            "properties": {
                                                "limit": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le limit ne peut pas d√©passer 100"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Cr√©er un nouveau compte bancaire",
                "description": "Cr√©e un nouveau compte bancaire avec validation compl√®te (NCI, t√©l√©phone, email). Le mot de passe est g√©n√©r√© automatiquement et envoy√© par email.",
                "operationId": "1ec0ce255279af65d9481a1deab7bed1",
                "requestBody": {
                    "description": "Donn√©es du compte √† cr√©er",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "type",
                                    "devise",
                                    "client"
                                ],
                                "properties": {
                                    "type": {
                                        "description": "Type de compte (epargne ou cheque uniquement)",
                                        "type": "string",
                                        "enum": [
                                            "epargne",
                                            "cheque"
                                        ],
                                        "example": "epargne"
                                    },
                                    "devise": {
                                        "description": "Devise du compte",
                                        "type": "string",
                                        "enum": [
                                            "FCFA",
                                            "USD",
                                            "EUR"
                                        ],
                                        "example": "FCFA"
                                    },
                                    "client": {
                                        "description": "Informations du client",
                                        "required": [
                                            "titulaire",
                                            "nci",
                                            "email",
                                            "telephone",
                                            "adresse"
                                        ],
                                        "properties": {
                                            "id": {
                                                "description": "ID du client existant (optionnel)",
                                                "type": "string",
                                                "example": null,
                                                "nullable": true
                                            },
                                            "titulaire": {
                                                "description": "Nom complet du titulaire",
                                                "type": "string",
                                                "example": "Mamadou Diop"
                                            },
                                            "nci": {
                                                "description": "Num√©ro NCI s√©n√©galais (13 chiffres commen√ßant par 1 ou 2)",
                                                "type": "string",
                                                "example": "1234567890123"
                                            },
                                            "email": {
                                                "description": "Adresse email unique",
                                                "type": "string",
                                                "format": "email",
                                                "example": "mamadou.diop@example.com"
                                            },
                                            "telephone": {
                                                "description": "T√©l√©phone s√©n√©galais (+221 suivi de 70/75/76/77/78)",
                                                "type": "string",
                                                "example": "+221771234567"
                                            },
                                            "adresse": {
                                                "description": "Adresse compl√®te",
                                                "type": "string",
                                                "example": "Dakar, Plateau"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Compte cr√©√© avec succ√®s",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte cr√©√© avec succ√®s"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "a032f0ea-25e7-4b17-a7c4-e0a1aa6aa289"
                                                },
                                                "numeroCompte": {
                                                    "type": "string",
                                                    "example": "CP3105472638"
                                                },
                                                "titulaire": {
                                                    "type": "string",
                                                    "example": "Mamadou Diop"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "epargne"
                                                },
                                                "solde": {
                                                    "type": "number",
                                                    "example": 0
                                                },
                                                "devise": {
                                                    "type": "string",
                                                    "example": "FCFA"
                                                },
                                                "dateCreation": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-10-25T15:35:06+00:00"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "example": "actif"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation - Donn√©es invalides ou champs requis manquants",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Les donn√©es fournies sont invalides"
                                        },
                                        "errors": {
                                            "description": "Exemples de tous les cas d'erreur possibles. Chaque champ peut avoir plusieurs types d'erreurs (requis, format, unicit√©).",
                                            "properties": {
                                                "type": {
                                                    "description": "Erreurs possibles : champ manquant, valeur invalide",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le type de compte est requis"
                                                    }
                                                },
                                                "devise": {
                                                    "description": "Erreurs possibles : champ manquant, valeur invalide",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "La devise est requise"
                                                    }
                                                },
                                                "client": {
                                                    "description": "Erreur si l'objet client est manquant",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Les informations du client sont requises"
                                                    }
                                                },
                                                "client.titulaire": {
                                                    "description": "Erreur : champ manquant",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le nom du titulaire est requis"
                                                    }
                                                },
                                                "client.nci": {
                                                    "description": "Erreurs possibles : 1) champ manquant 'Le NCI est requis', 2) format invalide 'Le NCI doit √™tre un num√©ro NCI s√©n√©galais valide (13 chiffres commen√ßant par 1 ou 2)', 3) d√©j√† utilis√© 'Ce NCI est d√©j√† utilis√©'",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Ce NCI est d√©j√† utilis√©"
                                                    }
                                                },
                                                "client.email": {
                                                    "description": "Erreurs possibles : 1) champ manquant 'L'email est requis', 2) format invalide 'L'email doit √™tre valide', 3) d√©j√† utilis√© 'Cet email est d√©j√† utilis√©'",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Cet email est d√©j√† utilis√©"
                                                    }
                                                },
                                                "client.telephone": {
                                                    "description": "Erreurs possibles : 1) champ manquant 'Le t√©l√©phone est requis', 2) format invalide 'Le t√©l√©phone doit √™tre un num√©ro de t√©l√©phone s√©n√©galais valide (+221 suivi de 70/75/76/77/78)', 3) d√©j√† utilis√© 'Ce num√©ro de t√©l√©phone est d√©j√† utilis√©'",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Ce num√©ro de t√©l√©phone est d√©j√† utilis√©"
                                                    }
                                                },
                                                "client.adresse": {
                                                    "description": "Erreur : champ manquant",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "L'adresse est requise"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Erreur de format - NCI ou t√©l√©phone invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Les donn√©es fournies sont invalides"
                                        },
                                        "errors": {
                                            "properties": {
                                                "client.nci": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le NCI doit √™tre un num√©ro NCI s√©n√©galais valide (13 chiffres commen√ßant par 1 ou 2)"
                                                    }
                                                },
                                                "client.telephone": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le t√©l√©phone doit √™tre un num√©ro de t√©l√©phone s√©n√©galais valide (+221 suivi de 70/75/76/77/78)"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur interne",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Une erreur est survenue : [d√©tails de l'erreur]"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/comptes/{id}": {
            "get": {
                "tags": [
                    "Comptes"
                ],
                "summary": "R√©cup√©rer un compte sp√©cifique par ID (US 2.1)",
                "description": "R√©cup√®re les d√©tails complets d'un compte bancaire par son ID UUID. Impl√©mente une strat√©gie de recherche dual-database : cherche d'abord dans PostgreSQL (comptes actifs), puis dans Neon (comptes archiv√©s) si non trouv√©.\n\n**Autorisations :**\n- **Admin** : Peut r√©cup√©rer n'importe quel compte\n- **Client** : Peut r√©cup√©rer uniquement ses propres comptes\n\n**Comptes du client test (`client@banque.sn`) :**\n- `a0358125-5167-4b7c-8057-786038cd1e84`\n- `a0358113-ee00-4154-884d-9a3bd5d307fc`\n- `a0358111-2230-42ff-94d4-a6db429db2c1`\n\n**üìù Instructions :** Connectez-vous, copiez le token, cliquez sur **Authorize** en haut √† droite et collez-le dans **bearerAuth (http, Bearer)**.",
                "operationId": "getCompteById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID UUID du compte. Exemples de comptes existants : a0358129-098e-46e8-99c7-be73a3943006",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "a0358129-098e-46e8-99c7-be73a3943006"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Compte r√©cup√©r√© avec succ√®s (depuis PostgreSQL ou Neon)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "550e8400-e29b-41d4-a716-446655440000"
                                                },
                                                "numeroCompte": {
                                                    "type": "string",
                                                    "example": "C00123456"
                                                },
                                                "titulaire": {
                                                    "type": "string",
                                                    "example": "Amadou Diallo"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "epargne",
                                                        "cheque"
                                                    ],
                                                    "example": "epargne"
                                                },
                                                "solde": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 1250000
                                                },
                                                "devise": {
                                                    "type": "string",
                                                    "example": "FCFA"
                                                },
                                                "dateCreation": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2023-03-15T00:00:00Z"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "enum": [
                                                        "actif",
                                                        "bloque",
                                                        "ferme"
                                                    ],
                                                    "example": "bloque"
                                                },
                                                "motifBlocage": {
                                                    "type": "string",
                                                    "example": "Inactivit√© de 30+ jours",
                                                    "nullable": true
                                                },
                                                "metadata": {
                                                    "properties": {
                                                        "derniereModification": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2023-06-10T14:30:00Z"
                                                        },
                                                        "version": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "archived": {
                                                            "description": "true si r√©cup√©r√© depuis Neon, false si depuis PostgreSQL",
                                                            "type": "boolean",
                                                            "example": false
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifi√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifi√©"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Acc√®s non autoris√© - Client tentant d'acc√©der √† un compte qui ne lui appartient pas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "properties": {
                                                "code": {
                                                    "type": "string",
                                                    "example": "ACCESS_DENIED"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Acc√®s non autoris√© √† ce compte"
                                                },
                                                "details": {
                                                    "properties": {
                                                        "compteId": {
                                                            "type": "string",
                                                            "format": "uuid",
                                                            "example": "550e8400-e29b-41d4-a716-446655440000"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Compte non trouv√© dans PostgreSQL ni dans Neon",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "properties": {
                                                "code": {
                                                    "type": "string",
                                                    "example": "COMPTE_NOT_FOUND"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Le compte avec l'ID sp√©cifi√© n'existe pas"
                                                },
                                                "details": {
                                                    "properties": {
                                                        "compteId": {
                                                            "type": "string",
                                                            "format": "uuid",
                                                            "example": "550e8400-e29b-41d4-a716-446655440000"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Une erreur est survenue lors de la r√©cup√©ration du compte"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/comptes/numero/{numero}": {
            "get": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Obtenir un compte par num√©ro",
                "description": "R√©cup√®re les d√©tails complets d'un compte bancaire en utilisant son num√©ro de compte. Cherche automatiquement dans la base principale (Render) et dans les archives (Neon) si le compte est ferm√©, bloqu√© ou archiv√©.",
                "operationId": "getCompteByNumero",
                "parameters": [
                    {
                        "name": "numero",
                        "in": "path",
                        "description": "Num√©ro du compte (format: CPxxxxxxxxxx)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "CP3105472638"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Compte r√©cup√©r√© avec succ√®s",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte r√©cup√©r√© avec succ√®s"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "a032f0ea-25e7-4b17-a7c4-e0a1aa6aa289"
                                                },
                                                "numeroCompte": {
                                                    "type": "string",
                                                    "example": "CP3105472638"
                                                },
                                                "titulaire": {
                                                    "type": "string",
                                                    "example": "Mamadou Diop"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "epargne"
                                                },
                                                "solde": {
                                                    "type": "number",
                                                    "example": 150000
                                                },
                                                "devise": {
                                                    "type": "string",
                                                    "example": "FCFA"
                                                },
                                                "dateCreation": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "example": "actif"
                                                },
                                                "archived": {
                                                    "description": "Indique si le compte est archiv√© dans Neon",
                                                    "type": "boolean",
                                                    "example": false
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Compte non trouv√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte non trouv√©"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Le compte avec le num√©ro CP9999999999 n'existe pas"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/comptes/archives": {
            "get": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Lister les comptes archiv√©s dans Neon",
                "description": "R√©cup√®re la liste compl√®te des comptes archiv√©s depuis la base de donn√©es Neon. Affiche tous les types de comptes (√©pargne, ch√®que, etc.) qui ont √©t√© supprim√©s et archiv√©s. Les comptes sont tri√©s par date de fermeture (du plus r√©cent au plus ancien). Seuls les administrateurs peuvent acc√©der aux archives.",
                "operationId": "getArchivedComptes",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Num√©ro de page pour la pagination",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 1,
                            "example": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Nombre d'√©l√©ments par page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10,
                            "example": 10
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Liste des comptes archiv√©s r√©cup√©r√©e avec succ√®s depuis Neon",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "a035d839-2e9e-4aed-886e-2398a1ffd2f0"
                                                    },
                                                    "numeroCompte": {
                                                        "type": "string",
                                                        "example": "CP3162783468"
                                                    },
                                                    "client_id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "a035d836-d64e-439e-b997-16dffd01552b"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "epargne"
                                                    },
                                                    "solde": {
                                                        "type": "string",
                                                        "example": "0.00"
                                                    },
                                                    "devise": {
                                                        "type": "string",
                                                        "example": "FCFA"
                                                    },
                                                    "statut": {
                                                        "type": "string",
                                                        "example": "ferme"
                                                    },
                                                    "dateFermeture": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-10-27 09:15:18"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-10-27 09:15:18"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-10-27 09:15:18"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "pagination": {
                                            "properties": {
                                                "currentPage": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "totalPages": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "totalItems": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "itemsPerPage": {
                                                    "type": "integer",
                                                    "example": 10
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifi√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifi√©"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Action non autoris√©e - Seuls les administrateurs peuvent consulter les archives",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Action non autoris√©e"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Une erreur est survenue lors de la r√©cup√©ration des archives"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/comptes/{numeroCompte}/archive": {
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Archiver un compte √©pargne",
                "description": "Archive un compte √©pargne vers le cloud (Neon). Seuls les administrateurs peuvent archiver des comptes.",
                "operationId": "archiveCompte",
                "parameters": [
                    {
                        "name": "numeroCompte",
                        "in": "path",
                        "description": "Num√©ro du compte √† archiver",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "reason": {
                                        "type": "string",
                                        "example": "Inactif depuis 12 mois"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Compte archiv√© avec succ√®s",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte archiv√© avec succ√®s"
                                        },
                                        "data": {
                                            "properties": {
                                                "archived_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Non autoris√© - seuls les administrateurs peuvent archiver",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Seuls les administrateurs peuvent archiver des comptes"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Compte non trouv√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte non trouv√©"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/comptes/{numeroCompte}": {
            "delete": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Supprimer un compte et l'archiver dans Neon",
                "description": "Supprime d√©finitivement un compte bancaire de la base principale (PostgreSQL) et l'archive automatiquement dans la base Neon. Cette op√©ration est irr√©versible depuis PostgreSQL mais le compte peut √™tre restaur√© depuis l'archive Neon. Seuls les administrateurs peuvent supprimer des comptes.",
                "operationId": "deleteCompte",
                "parameters": [
                    {
                        "name": "numeroCompte",
                        "in": "path",
                        "description": "Num√©ro du compte √† supprimer",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "CP3105472638"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Compte supprim√© avec succ√®s et archiv√© dans Neon",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte supprim√© avec succ√®s et archiv√© dans Neon"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "a035d140-7bf1-45cd-b5dd-5401faeda695"
                                                },
                                                "numeroCompte": {
                                                    "type": "string",
                                                    "example": "CP5091523552"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "example": "ferme"
                                                },
                                                "dateFermeture": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-10-27T09:21:58+00:00"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifi√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifi√©"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Action non autoris√©e - Seuls les administrateurs peuvent supprimer des comptes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Action non autoris√©e"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Compte non trouv√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Le compte CP9999999999 n'existe pas"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Compte d√©j√† supprim√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Le compte CP3105472638 est d√©j√† supprim√©"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Une erreur est survenue lors de la suppression du compte"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/comptes/restore/{id}": {
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Restaurer un compte archiv√© depuis Neon",
                "description": "Restaure un compte bancaire pr√©c√©demment supprim√© et archiv√© dans Neon. Le compte est recr√©√© dans PostgreSQL avec le statut 'actif' et supprim√© de l'archive Neon. Seuls les administrateurs peuvent restaurer des comptes.",
                "operationId": "restoreCompte",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID UUID du compte archiv√© √† restaurer",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "a035d140-7bf1-45cd-b5dd-5401faeda695"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Compte restaur√© avec succ√®s depuis l'archive Neon",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte restaur√© avec succ√®s"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "a0367188-21dd-4f37-9d55-c5cf90850058"
                                                },
                                                "numeroCompte": {
                                                    "type": "string",
                                                    "example": "CP5091523552"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "example": "actif"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "cheque"
                                                },
                                                "titulaire": {
                                                    "type": "string",
                                                    "example": "Baye Bara Diop"
                                                },
                                                "solde": {
                                                    "type": "number",
                                                    "example": 0
                                                },
                                                "devise": {
                                                    "type": "string",
                                                    "example": "FCFA"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifi√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifi√©"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Action non autoris√©e - Seuls les administrateurs peuvent restaurer des comptes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Action non autoris√©e"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Compte non trouv√© dans les archives",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Le compte avec l'ID a035d140-7bf1-45cd-b5dd-5401faeda695 n'existe pas dans les archives"
                                        },
                                        "code": {
                                            "type": "integer",
                                            "example": 404
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Une erreur est survenue lors de la restauration du compte"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/comptes/{compteId}/bloquer": {
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Bloquer un compte √©pargne (US 2.5)",
                "description": "Bloque un compte √©pargne actif pour une dur√©e d√©termin√©e. Seuls les administrateurs peuvent bloquer un compte. Le compte doit √™tre de type √©pargne et avoir un statut actif. La date de d√©blocage pr√©vue est calcul√©e automatiquement.\n\n**Note pour les tests :** L'ID d'exemple `a0358129-098e-46e8-99c7-be73a3943006` existe dans la base de donn√©es Render et peut √™tre utilis√© pour vos tests. Vous pouvez aussi r√©cup√©rer d'autres IDs via GET /v1/comptes.",
                "operationId": "bloquerCompte",
                "parameters": [
                    {
                        "name": "compteId",
                        "in": "path",
                        "description": "ID UUID du compte √† bloquer. Exemple: a0358129-098e-46e8-99c7-be73a3943006 (existe dans la base Render pour les tests)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "a0358129-098e-46e8-99c7-be73a3943006"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Informations de blocage du compte",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "motif",
                                    "duree",
                                    "unite"
                                ],
                                "properties": {
                                    "motif": {
                                        "description": "Motif du blocage (minimum 10 caract√®res)",
                                        "type": "string",
                                        "maxLength": 500,
                                        "minLength": 10,
                                        "example": "Activit√© suspecte d√©tect√©e"
                                    },
                                    "duree": {
                                        "description": "Dur√©e du blocage",
                                        "type": "integer",
                                        "maximum": 365,
                                        "minimum": 1,
                                        "example": 30
                                    },
                                    "unite": {
                                        "description": "Unit√© de temps (jours ou mois)",
                                        "type": "string",
                                        "enum": [
                                            "jours",
                                            "mois"
                                        ],
                                        "example": "mois"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Compte bloqu√© avec succ√®s",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte bloqu√© avec succ√®s"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "550e8400-e29b-41d4-a716-446655440000"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "example": "bloque"
                                                },
                                                "motifBlocage": {
                                                    "type": "string",
                                                    "example": "Activit√© suspecte d√©tect√©e"
                                                },
                                                "dateBlocage": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-10-19T11:20:00Z"
                                                },
                                                "dateDeblocagePrevue": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-18T11:20:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Erreur de validation ou compte non √©ligible au blocage",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Seuls les comptes √©pargne peuvent √™tre bloqu√©s"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifi√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifi√©"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Action non autoris√©e - Seuls les administrateurs peuvent bloquer un compte",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Action non autoris√©e"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Compte non trouv√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Le compte avec l'ID 550e8400-e29b-41d4-a716-446655440000 n'existe pas"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation des donn√©es",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Les donn√©es fournies sont invalides"
                                        },
                                        "errors": {
                                            "properties": {
                                                "motif": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le motif de blocage est obligatoire"
                                                    }
                                                },
                                                "duree": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "La dur√©e de blocage est obligatoire"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Une erreur est survenue lors du blocage du compte"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/comptes/{compteId}/debloquer": {
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "D√©bloquer un compte √©pargne (US 2.5)",
                "description": "D√©bloque un compte √©pargne pr√©c√©demment bloqu√© et le remet en statut actif. Seuls les administrateurs peuvent d√©bloquer un compte. Le compte doit avoir un statut bloqu√©.\n\n**Note pour les tests :** L'ID d'exemple `a0358129-098e-46e8-99c7-be73a3943006` existe dans la base de donn√©es Render et peut √™tre utilis√© pour vos tests. Vous pouvez aussi r√©cup√©rer d'autres IDs via GET /v1/comptes.",
                "operationId": "debloquerCompte",
                "parameters": [
                    {
                        "name": "compteId",
                        "in": "path",
                        "description": "ID UUID du compte √† d√©bloquer. Exemple: a0358129-098e-46e8-99c7-be73a3943006 (existe dans la base Render pour les tests)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "a0358129-098e-46e8-99c7-be73a3943006"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Motif du d√©blocage",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "motif"
                                ],
                                "properties": {
                                    "motif": {
                                        "description": "Motif du d√©blocage (minimum 10 caract√®res)",
                                        "type": "string",
                                        "maxLength": 500,
                                        "minLength": 10,
                                        "example": "V√©rification compl√©t√©e"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Compte d√©bloqu√© avec succ√®s",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte d√©bloqu√© avec succ√®s"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "550e8400-e29b-41d4-a716-446655440000"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "example": "actif"
                                                },
                                                "dateDeblocage": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-10-19T12:00:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Compte non √©ligible au d√©blocage",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Le compte ne peut pas √™tre d√©bloqu√©. Statut actuel : actif"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifi√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifi√©"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Action non autoris√©e - Seuls les administrateurs peuvent d√©bloquer un compte",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Action non autoris√©e"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Compte non trouv√©",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Le compte avec l'ID 550e8400-e29b-41d4-a716-446655440000 n'existe pas"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation des donn√©es",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Les donn√©es fournies sont invalides"
                                        },
                                        "errors": {
                                            "properties": {
                                                "motif": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le motif de d√©blocage est obligatoire"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Une erreur est survenue lors du d√©blocage du compte"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/v1/health": {
            "get": {
                "tags": [
                    "Health"
                ],
                "summary": "V√©rifier l'√©tat de l'API",
                "description": "Endpoint pour v√©rifier si l'API fonctionne correctement",
                "operationId": "healthCheck",
                "responses": {
                    "200": {
                        "description": "L'API fonctionne correctement",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "API is running"
                                        },
                                        "version": {
                                            "type": "string",
                                            "example": "v1"
                                        },
                                        "timestamp": {
                                            "type": "string",
                                            "format": "date-time",
                                            "example": "2025-10-23T12:29:16+00:00"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "cookieAuth": {
                "type": "apiKey",
                "description": "Authentification via cookie HttpOnly contenant le JWT token",
                "name": "access_token",
                "in": "cookie"
            },
            "bearerAuth": {
                "type": "http",
                "description": "Authentification via Bearer Token JWT pour Swagger UI.",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Authentification",
            "description": "Endpoints pour l'authentification des utilisateurs (Admin/Client). Utilise JWT avec cookies HttpOnly pour une s√©curit√© renforc√©e."
        },
        {
            "name": "Comptes",
            "description": "Gestion compl√®te des comptes bancaires : cr√©ation de nouveaux comptes, consultation, listing avec filtres et pagination, archivage dans le cloud."
        },
        {
            "name": "Health",
            "description": "Health"
        }
    ]
}